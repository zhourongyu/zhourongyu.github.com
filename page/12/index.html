<!doctype html>
<html class="theme-next use-motion ">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>


<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.3"/>


    <meta name="description" content="别怕，我不是什么好人！" />



  <meta name="keywords" content="山荣, Hexo, 互联网, bloger" />



  <link rel="alternate" href="/atom.xml" title="擦擦擦擦" type="application/atom+xml" />



  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.3" />



<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: '',
    analytics: {
      google: 'UA-68669626-1'
    },
    sidebar: 'always'
  };
</script>




  <title> 擦擦擦擦 </title>
</head>

<body>
  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->

  <div class="container one-column 
   page-home 
">
    <div class="headband"></div>

    <div id="header" class="header">
      <div class="header-inner">
        <h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand">
      <span class="logo">
        <i class="icon-logo"></i>
      </span>
      <span class="site-title">擦擦擦擦</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<div class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/">
            <i class="menu-item-icon icon-home"></i> <br />
            首頁
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            <i class="menu-item-icon icon-archives"></i> <br />
            歸檔
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags">
            <i class="menu-item-icon icon-tags"></i> <br />
            標籤
          </a>
        </li>
      
    </ul>
  

  
</div>


      </div>
    </div>

    <div id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          
  <div id="posts" class="posts-expand">
    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2012/12/06/WordPress的邮件发送问题/">
                WordPress的邮件发送问题
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          發表於 2012-12-06
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分類於
            
              <a href="/categories/tech/">tech</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2012/12/06/WordPress的邮件发送问题/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2012/12/06/WordPress的邮件发送问题/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>在刚把博客搬到Linode的时候自己也遇上了WordPress的邮件发送问题，查了下资料，发现大部分人都遇上了这个问题，因为与自己的主机商有关系。解决方案有多种不同的版本。</p>
<p>主要原因有：<br>1.主机不支持mai()函数<br>2.PHP的fsockopen()被禁用<br>因为不支持mail()函数，一般都使用给WordPress装对应的smtp插件（eg: wp-mail-smtp插件）来实现邮件发送功能，从而又遇上了fsockopen的问题。<br>使用wp-mail-smtp发送测试邮件给出的错误提示为: SMTP -&gt; ERROR: Failed to connect to server:()<br>一般搜到的方案都是这样：</p>
<p>找到wp-includes/class.smtp.php，用pfsockopen()函数直接替换掉 fsockopen() :<br>$this-&gt;smtp_conn = @fsockopen&nbsp;&nbsp; —&gt; $this-&gt;smtp_conn = @pfsockopen<br>不知道是不是版本问题（或者大家都是copy的？），我使用的是最新版本3.4.2，在wp-includes中并没有发现名为class.smtp.php的文件，正确的文件名为class-smtp.php。并且发现在此目录下所有class.xxx.php的格式都变为class-xxx.php，不知网络上class.xxx.php是哪个版本中的。</p>
<p>在class-smtp.php中改用pfsockopen()方法后也并没有好用。通过phpinfo()上检查了一番，发现不只fsockopen()被禁用，连pfsockopen()也一起禁用了。<br>正确的解决办法：</p>
<p>在服务器安装的php目录下找到php.ini文件，如果你是lnmp安装的，那么应该在/usr/local/php/etc/下，<br>查找allow_url_fopen</p>
<pre><code><span class="setting">allow_url_fopen = <span class="value"><span class="keyword">On</span></span></span>
</code></pre><p>配置是指允许访问网络文件，如果是Off，请改为On<br>接着找disable_functions</p>
<pre><code>disable_functions = passthru,<span class="keyword">exec</span>,<span class="keyword">system</span>,<span class="keyword">chroot</span>,scandir,chgrp,<span class="keyword">chown</span>,shell_exec,proc_open,proc_get_status,ini_alter,ini_alter,ini_restore,dl,openlog,syslog,<span class="keyword">readlink</span>,<span class="keyword">symlink</span>,popepassthru,stream_socket_server,fsocket,fsockopent_status,pfsockopen,ini_alter,ini_alter,ini_restore,dl,openlog,syslog,<span class="keyword">readlink</span>,<span class="keyword">symlink</span>,popepassthru,stream_socket_server,fsocket,fsockopen
</code></pre><p>里面都是被禁用的方法，从中可以发现含有pfsockopen与fsockopen，想解禁哪一个就看你自己了。因为前面已经改用pfsockopen()了，所以我解禁了它。改完后重启php服务再到phpinfo()中去看如果被禁函数里没有了pfsockopen那么说明成功了。然后再去测试SMTP插件，显示成功！</p>
<p>另外看到有人提示还可以使用stream_socket_client方法来替代，但是stream_socket_client参数是不同的，需要做如下修改：</p>
<p>修改前：</p>
<pre><code><span class="variable">$fp</span> = fsockopen(<span class="variable">$host</span>, <span class="number">80</span>, <span class="variable">$errno</span>, <span class="variable">$errstr</span>, <span class="number">30</span>);
</code></pre><p>修改后</p>
<pre><code><span class="variable">$fp</span> = stream_socket_client(<span class="variable">$host</span>.<span class="string">"80"</span>, <span class="variable">$errno</span>, <span class="variable">$errstr</span>, <span class="number">30</span>);
</code></pre><p>我没有测试这个方案，但发现是有问题的，我的参数格式为:</p>
<pre><code><span class="variable">$this</span>-&gt;smtp_conn = <span class="variable">@pfsockopen</span>(<span class="variable">$host</span>, <span class="variable">$port</span>, <span class="variable">$errno</span>, <span class="variable">$errstr</span>, <span class="variable">$tval</span>);
</code></pre><p>和所示的不同。所以如何改就不得而知了~欢迎大家给出最新的方案。</p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2012/12/01/Lightroom与Aperture的选择/">
                Lightroom与Aperture的选择
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          發表於 2012-12-01
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分類於
            
              <a href="/categories/photo/">photo</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2012/12/01/Lightroom与Aperture的选择/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2012/12/01/Lightroom与Aperture的选择/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>LR（Lightroom）是Adobe旗下为专业摄影师提供的一款管理与编辑照片的软件，而AP（Aperture）则是苹果提供的类似功能软件。</p>
<p>两款软件功能很类似。其实还有一款常用的软件，那就是大家熟知的Photoshop。对于我这种后期小白的人基本不用Photoshop，大部分摄影师也不是很精通photoshop。使用LR的人居多，因为它含有WIN/MAC版本～而AP只是针对MAC。</p>
<p>AP在Apple Store中售价518 和 PS同等价位，LR比较贵，貌似是$149 。</p>
<p>两款软件我都试用了，许多人挺犹豫该用哪一款，我也是。因为LR 与AP两者相互是完全封闭的。如果是WIN用户那果断使用LR了～</p>
<p>Aperture 是 Apple 自家的软件，自然用着很舒服，它与iPhoto图库是打通的，可以通用图库（这点非常棒），在Aperture里进行的修改 iPhoto 里马上就可以查看。并且引入了版本的概念，极大的节省了空间。如果不满足iPhoto的必然要用AP替代它。</p>
<p>Lightroom 的降噪算法之类尤为著名。它是为专业摄影师的后期处理设计的，后期处理能力整体都强过 Aperture。而 Aperture 的后期处理功能（尽管也挺强大了）更像是对舒适的照片管理做扩展。不过LR在MAC下使用没有AP舒适～貌似Adobe的软件都是这样。最近的PS6貌似帅了不少～</p>
<p>LR因为用的人多，平台广，所以有很多好的preset可以使用，这样又极大的方便了像我这样的后期小白。</p>
<p>总的来说AP是管理重于编辑，不过是限于MAC平台。 LR重于照片调较功能，当然只是相对的，LR的管理也是不错的。</p>
<p>对于我来说目前是使用AP比较多，用来管理，偶尔需要又较大校正的照片会转到LR下面。如果两者能相同就好了～</p>
<p>有一个概念：好的照片是不需要修改的。 我表示大部分同意，因为拍照是一瞬间的事情，很多时候无法去做好前期的准备，后期通过稍微的调整还是有一定的必要。 不要去指望用这样软件去把照片改成明星一样，这不是特效软件～ 特效请用PS，哈哈</p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2012/11/24/下午的夕阳/">
                下午的夕阳
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          發表於 2012-11-24
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分類於
            
              <a href="/categories/photo/">photo</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2012/11/24/下午的夕阳/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2012/11/24/下午的夕阳/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>不知不觉夕阳已经提前到下午三点开始了？<br>三点半的北京，太阳已经渐渐的落了下去。时间过的好快！晚上就要来了～</p>
<p>顺便发泄一下心情，本来最近心情还是不错的，可惜被某些东西打碎了，心情就想这夕阳一样，黯然神伤。注定如此，呜呼哀哉！</p>
<p>多情应笑我，早生华发，<br>人生如梦，一尊还酹江月！</p>
<p>也许时间再长一些就好了……</p>
<p><img src="http://zryblog.qiniudn.com/2014/07/2899257033.jpg" alt="夕阳"></p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2012/11/03/水花四溅的瞬间/">
                水花四溅的瞬间
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          發表於 2012-11-03
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分類於
            
              <a href="/categories/photo/">photo</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2012/11/03/水花四溅的瞬间/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2012/11/03/水花四溅的瞬间/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>今天北京降温… 暖气已经提前开了。 周末也彻底不想出门了…</p>
<p>在家无趣随即用我的小绿杯拍了几张趣味照片…</p>
<p><img src="http://zryblog.qiniudn.com/2014/07/27460550.jpg" alt="水花"><br><img src="http://zryblog.qiniudn.com/2014/07/643498825.jpg" alt="水花2"><br><img src="http://zryblog.qiniudn.com/2014/07/1169216688.jpg" alt="水花3"></p>
<p>定格于水花溅起的一瞬间，由于夜晚又在室内，背景不太好～另外把水换成牛奶或咖啡效果也会更好。</p>
<p>来张网上的美图</p>
<p><img src="http://zryblog.qiniudn.com/2014/07/841892749.jpg" alt="水花4"></p>
<p>拍摄时注意点：</p>
<p>对焦点放在杯子上，定点对焦或者改为手动对焦。<br>光圈不能太大，依据景深来决定，大光圈容易让水花变模糊。<br>快门速度达到1/200以上，否则水花会成雾状。<br>下落物体不能太轻，太小，通常用硬币、冰块或曲奇饼。<br>使用连拍模式。<br>光线暗需要闪光灯。</p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2012/11/01/2012北京第一场雪/">
                2012北京第一场雪
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          發表於 2012-11-01
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分類於
            
              <a href="/categories/photo/">photo</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2012/11/01/2012北京第一场雪/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2012/11/01/2012北京第一场雪/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>2012年的第一场雪，比以往来的要早一些……</p>
<p>其实也不早了，只是最近降温幅度有点大，瞬间已经到了0˚C ，今天清晨北京发出红色暴雪警报。 可惜我太懒，十一点才起床，一看外面已经白茫茫一片。立马收拾家伙奔森林公园去。原因有两：一，森林公园离我比较近。二，下雪天公园人应该少一些。</p>
<p>到公园发现人还是不少，不少来看雪景，照相的～ 可惜来的有点晚，好多雪已经被人践踏到不行了。可惜可惜，PS：确实有点冷，吹了一会手已经僵硬了。</p>
<p>只能强忍着寒冷跑了大半个南区，找了几处拍一拍就回家了～<br><img src="http://zryblog.qiniudn.com/2014/07/1419374419.jpg" alt="银杏林"></p>
<p>南区有一片银杏林，还不错，虽然雪少了一点<br><img src="http://zryblog.qiniudn.com/2014/07/4189128017.jpg" alt="IMG_2521.jpg"><br><img src="http://zryblog.qiniudn.com/2014/07/2505113122.jpg" alt="IMG_2523.jpg"></p>
<p>湖边的树与桥，可惜白雪被破坏了，早些时候应该更美。<br><img src="http://zryblog.qiniudn.com/2014/07/1817311177.jpg" alt="IMG\_2552.jpg"><br><img src="http://zryblog.qiniudn.com/2014/07/3331077673.jpg" alt="IMG\_2554.jpg"></p>
<p>奔跑吧，向上吧，骚年！！！<br><img src="http://zryblog.qiniudn.com/2014/07/180068618.jpg" alt="IMG\_2566.jpg"></p>

        
      
    </div>

    <div class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
  </div>

  
  <div class="pagination">
    <a class="extend prev" rel="prev" href="/page/11/">&laquo;</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><span class="page-number current">12</span><a class="page-number" href="/page/13/">13</a><span class="space">&hellip;</span><a class="page-number" href="/page/20/">20</a><a class="extend next" rel="next" href="/page/13/">&raquo;</a>
  </div>


        </div>

        
      </div>


      
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <div id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      <div class="site-overview">
        <div class="site-author motion-element">
          <img class="site-author-image" src="https://avatars2.githubusercontent.com/u/499661?v=3&s=460" alt="山荣" />
          <p class="site-author-name">山荣</p>
        </div>
        <p class="site-description motion-element">别怕，我不是什么好人！</p>
        <div class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">100</span>
              <span class="site-state-item-name">文章</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            
              <span class="site-state-item-count">3</span>
              <span class="site-state-item-name">分類</span>
              
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">106</span>
              <span class="site-state-item-name">標籤</span>
              </a>
          </div>

        </div>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml">
              <i class="menu-item-icon icon-feed"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
              <a href="https://instagram.com/zhourongyu" target="_blank">Instagram</a>
            </span>
            
              <span class="links-of-author-item">
              <a href="https://twitter.com/zhourongyu" target="_blank">Twitter</a>
            </span>
            
              <span class="links-of-author-item">
              <a href="http://weibo.com/zhourongyu" target="_blank">Weibo</a>
            </span>
            
          
        </div>

        
        
          <div class="cc-license motion-element">
            <a href="http://creativecommons.org/licenses/by-nc-nd/4.0" class="cc-opacity" target="_blank">
              <img src="/images/cc-by-nc-nd.svg" alt="Creative Commons" />
            </a>
          </div>
        

      </div>

      

    </div>
  </div>


    </div>

    <div id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; &nbsp; 
  2015
  <span class="with-love">
    <i class="icon-heart"></i>
  </span>
  <span class="author">山荣</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 強力驅動
</div>

<div class="theme-info">
  主題 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT
  </a>
</div>



      </div>
    </div>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.3"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.3"></script>
  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.3" id="motion.global"></script>



  <script type="text/javascript" src="/js/search-toggle.js"></script>

  

  <script type="text/javascript">
    $(document).ready(function () {
      if (CONFIG.sidebar === 'always') {
        displaySidebar();
      }
    });
  </script>

  

  
  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"hexoxxxx"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  


  
  
  <script type="text/javascript" src="/js/analytics_google-analytics.js?v=0.4.3"></script>


</body>
</html>
